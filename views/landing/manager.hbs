{{#extends 'base'}}

{{#block 'content'}}

    <h1>Dashboard</h1>

    <div class="container mt-4">
        <div class="row">
            <a href="/products" class="col-12 mb-3 col-md-4 m-md-0 p-0">
                <div class="p-4 me-md-2 border-radius d-flex flex-row align-items-center dashboard-button" style="border-radius:15px">
                    {{!-- <div class="btn-icon">
                        <img src="/images/sunscreen.svg" alt="">
                    </div> --}}
                    <div>
                        <h2 class="m-0">{{products.length}}</h2> Products
                    </div>
                </div>
            </a>
            <a href="/users" class="col-12 mb-3 col-md-4 m-md-0 p-0">
                <div class="p-4 mx-md-1 border-radius d-flex flex-row align-items-center dashboard-button" style="border-radius:15px">
                    {{!-- <div class="btn-icon">
                        <img src="/images/customer.svg" alt="">
                    </div> --}}
                    <div>
                        <h2 class="m-0">{{users.length}}</h2> Customers
                    </div>
                </div>
            </a>
            <a href="/orders" class="col-12 mb-3 col-md-4 m-md-0 p-0">
                <div class="p-4 ms-md-2 border-radius d-flex flex-row align-items-center dashboard-button employee-button" style="border-radius:15px">
                    {{!-- <div class="btn-icon">
                        <img src="/images/orders.svg" alt="">
                    </div> --}}
                    <div>
                        <h2 class="m-0">{{orders.length}}</h2> Orders
                    </div>
                </div>
            </a>
        </div>
    </div>

    <h3 class="mt-3 mt-lg-5">Recent orders</h3>

    {{!-- mobile table --}}
    <div class="d-block d-lg-none mt-3">
        <table class="table border-radius" style="border-radius:15px">
            <thead>
                <tr>
                    <th class="p-3">
                        Order details
                    </th>
                    <th class="p-3">
                        Items
                    </th>
                    <th class="p-3">
                        Payment
                    </th>
                </tr>
            </thead>
            <tbody>
            {{#each orders}}
                <tr>
                    <td class="p-4 align-middle">
                        {{this.id}}
                        <br>
                        <b>{{this.user.username}}</b>
                        <br>
                        {{this.date}}
                    </td>
                    <td class="p-4 align-middle">
                        {{this.items_text}}
                        <br>
                        {{this.amount}}
                    </td>
                    <td class="p-4 align-middle text-capitalize">{{this.payment_status}}</td>

                </tr>
            {{/each}}
            </tbody>
        </table>

    </div>

    {{!-- desktop table --}}
    <div class="d-none d-lg-block mt-3">
        <table class="table border-radius" style="border-radius:15px">
            <thead>
                <tr>
                    <th class="p-4">No.</th>
                    <th class="p-4">Username</th>
                    <th class="p-4">Date</th>
                    <th class="p-4">Items</th>
                    <th class="p-4">Amount</th>
                    <th class="p-4">Status</th>
                </tr>
            </thead>
            <tbody>
                {{#each orders}}
                <tr>
                    <td class="p-4">{{this.id}}</td>
                    <td class="p-4">{{this.user.username}}</td>
                    <td class="p-4">{{this.date}}</td>
                    <td class="p-4">{{this.items_text}}</td>
                    <td class="p-4">{{this.amount}}</td>
                    <td class="p-4 text-capitalize">{{this.payment_status}}</td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
    
{{/block}}

{{/extends}}